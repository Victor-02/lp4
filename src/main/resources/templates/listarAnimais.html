<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
          th:href="@{/bootstrap-5.1.3-dist/css/bootstrap.min.css}">

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
          integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <script th:src="@{/jquery-3.6.0-dist/jquery-3.6.0.min.js}"></script>
    <script th:src="@{/bootstrap-5.1.3-dist/js/bootstrap.min.js}"></script>
    <title>LPIV</title>
<body>
<div class="container">
    <div class="row">
        <div class="col">
            <a href="/novo-animal" class="btn btn-primary m-3">Novo Animal</a>
            <a href="/listar-responsaveis" class="btn btn-secondary m-3">Listar Responsaveis</a>
            <a th:href="@{/}" class="btn btn-primary m-3">Voltar</a>
        </div>
    </div>

    <div class="row">
        <tr th:if="${animais.empty}">
            <td colspan="3">Não existem animais.</td>
        </tr>
        <table th:if="${!animais.empty}" class="table table-striped">
            <thead>
            <tr>
                <th>Nome</th>
                <th>Idade</th>
                <th>Doença</th>
                <th>Peso</th>
                <th>Responsável</th>
                <th>Ações</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="animal : ${animais}">
                <td><span th:text="${animal.nome}"></span></td>
                <td><span th:text="${animal.idade}"></span></td>
                <td><span th:text="${animal.doenca}"></span></td>
                <td><span th:text="${animal.peso}"></span></td>
                <td><span th:text="${animal.responsavel.nome}" th:if="${animal.responsavel != null}"></span>
                </td>
                <td><a th:text="Responsável" th:if="${animal.responsavel == null}"
                       th:href="@{/novo-responsavel/{id}(id=${animal.id})}"></a></td>
                <td>
                    <a th:text="Editar" class="btn btn-outline-success"
                       th:href="@{/editar-animal/{id}(id=${animal.id})}"></a>
                </td>
                <td>
                    <a th:text="Apagar" class="btn btn-outline-danger"
                       th:href="@{/excluir-animal/{id}(id=${animal.id})}"></a>
                </td>

            </tr>
            </tbody>
        </table>

    </div>
</div>
</body>
</html>